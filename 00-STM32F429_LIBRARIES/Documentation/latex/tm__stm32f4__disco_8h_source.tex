\hypertarget{tm__stm32f4__disco_8h_source}{}\subsection{tm\+\_\+stm32f4\+\_\+disco.\+h}

\begin{DoxyCode}
00001 
00031 \textcolor{preprocessor}{#ifndef TM\_DISCO\_H}
00032 \textcolor{preprocessor}{#define TM\_DISCO\_H 1110}
00033 
00151 \textcolor{preprocessor}{#include "stm32f4xx.h"}
00152 \textcolor{preprocessor}{#include "defines.h"}
00153 \textcolor{preprocessor}{#include "tm\_stm32f4\_gpio.h"}
00154 
00155 \textcolor{comment}{/* Recognize correct board */}
00156 \textcolor{comment}{/* CooCox support */}
00157 \textcolor{preprocessor}{#if defined(STM32F429\_439xx) || defined(STM32F429ZI)}
00158     \textcolor{comment}{/* STM32F429 Discovery support */}
00159 \textcolor{preprocessor}{    #ifndef TM\_DISCO\_STM32F429\_DISCOVERY}
00160 \textcolor{preprocessor}{        #define TM\_DISCO\_STM32F429\_DISCOVERY}
00161 \textcolor{preprocessor}{    #endif }
00162 \textcolor{preprocessor}{#elif defined(STM32F407VG) || defined(STM32F401VC)// || defined(STM32F40\_41xxx)}
00163     \textcolor{comment}{/* STM32F4 and STM32F401 Discovery support */}
00164 \textcolor{preprocessor}{    #ifndef TM\_DISCO\_STM32F4\_DISCOVERY}
00165 \textcolor{preprocessor}{        #define TM\_DISCO\_STM32F4\_DISCOVERY}
00166 \textcolor{preprocessor}{    #endif}
00167 \textcolor{preprocessor}{#elif defined (STM32F401xx) || defined(STM32F401RE) || defined(STM32F401RB)}
00168     \textcolor{comment}{/* Nucleo F401RE board support */}
00169 \textcolor{preprocessor}{    #ifndef TM\_DISCO\_NUCLEO\_F401}
00170 \textcolor{preprocessor}{        #define TM\_DISCO\_NUCLEO\_F401}
00171 \textcolor{preprocessor}{    #endif}
00172 \textcolor{preprocessor}{#elif defined (STM32F411xx) || defined(STM32F411RE) || defined(STM32F411RB)}
00173     \textcolor{comment}{/* Nucleo F411RE board support */}
00174 \textcolor{preprocessor}{    #ifndef TM\_DISCO\_NUCLEO\_F411}
00175 \textcolor{preprocessor}{        #define TM\_DISCO\_NUCLEO\_F411}
00176 \textcolor{preprocessor}{    #endif}
00177 \textcolor{preprocessor}{#endif}
00178 
00179 \textcolor{comment}{/* STM32F429 Discovery */}
00180 \textcolor{preprocessor}{#if defined(TM\_DISCO\_STM32F429\_DISCOVERY)}
00181 \textcolor{preprocessor}{    #define LED\_GREEN                   GPIO\_PIN\_13}
00182 \textcolor{preprocessor}{    #define LED\_RED                     GPIO\_PIN\_14}
00183 \textcolor{preprocessor}{    #define LED\_ORANGE                  0}
00184 \textcolor{preprocessor}{    #define LED\_BLUE                    0}
00185 \textcolor{preprocessor}{    #define LED\_ALL                     LED\_GREEN | LED\_RED}
00186     
00187 \textcolor{preprocessor}{    #define TM\_DISCO\_LED\_PORT           GPIOG}
00188 \textcolor{preprocessor}{    #define TM\_DISCO\_LED\_PINS           LED\_GREEN | LED\_RED}
00189 
00190 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PORT        GPIOA}
00191 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PIN         GPIO\_PIN\_0}
00192 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PRESSED     1}
00193 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PULL        TM\_GPIO\_PuPd\_DOWN}
00194 \textcolor{comment}{/* STM32F4 & STM32F401 Discovery */}
00195 \textcolor{preprocessor}{#elif defined(TM\_DISCO\_STM32F4\_DISCOVERY) || defined(TM\_DISCO\_STM32F401\_DISCOVERY) ||
       defined(TM\_DISCO\_STM32F411\_DISCOVERY)}
00196 \textcolor{preprocessor}{    #define LED\_GREEN                   GPIO\_PIN\_12}
00197 \textcolor{preprocessor}{    #define LED\_ORANGE                  GPIO\_PIN\_13}
00198 \textcolor{preprocessor}{    #define LED\_RED                     GPIO\_PIN\_14}
00199 \textcolor{preprocessor}{    #define LED\_BLUE                    GPIO\_PIN\_15}
00200 \textcolor{preprocessor}{    #define LED\_ALL                     LED\_GREEN | LED\_RED | LED\_ORANGE | LED\_BLUE}
00201     
00202 \textcolor{preprocessor}{    #define TM\_DISCO\_LED\_PORT           GPIOD}
00203 \textcolor{preprocessor}{    #define TM\_DISCO\_LED\_PINS           LED\_GREEN | LED\_RED | LED\_ORANGE | LED\_BLUE}
00204 
00205 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PORT        GPIOA}
00206 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PIN         GPIO\_PIN\_0}
00207 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PRESSED     1}
00208 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PULL        TM\_GPIO\_PuPd\_DOWN}
00209 \textcolor{comment}{/* Nucleo F401-RE & F411-RE */}
00210 \textcolor{preprocessor}{#elif defined(TM\_DISCO\_NUCLEO\_F401) || defined(TM\_DISCO\_NUCLEO\_F411)}
00211 \textcolor{preprocessor}{    #define LED\_GREEN                   GPIO\_PIN\_5}
00212 \textcolor{preprocessor}{    #define LED\_RED                     0}
00213 \textcolor{preprocessor}{    #define LED\_ORANGE                  0}
00214 \textcolor{preprocessor}{    #define LED\_BLUE                    0}
00215 \textcolor{preprocessor}{    #define LED\_ALL                     LED\_GREEN}
00216     
00217 \textcolor{preprocessor}{    #define TM\_DISCO\_LED\_PORT           GPIOA}
00218 \textcolor{preprocessor}{    #define TM\_DISCO\_LED\_PINS           LED\_GREEN}
00219 
00220 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PORT        GPIOC}
00221 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PIN         GPIO\_PIN\_13}
00222 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PRESSED     0}
00223 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PULL        TM\_GPIO\_PuPd\_UP}
00224 \textcolor{comment}{/* STM324x9 EVAL board */}
00225 \textcolor{preprocessor}{#elif defined(TM\_DISCO\_STM324x9\_EVAL)}
00226 \textcolor{preprocessor}{    #define LED\_GREEN                   GPIO\_PIN\_6}
00227 \textcolor{preprocessor}{    #define LED\_ORANGE                  GPIO\_PIN\_7}
00228 \textcolor{preprocessor}{    #define LED\_RED                     GPIO\_PIN\_10}
00229 \textcolor{preprocessor}{    #define LED\_BLUE                    GPIO\_PIN\_12}
00230 \textcolor{preprocessor}{    #define LED\_ALL                     LED\_GREEN | LED\_RED | LED\_ORANGE | LED\_BLUE}
00231     
00232 \textcolor{preprocessor}{    #define TM\_DISCO\_SWAP\_LOGIC}
00233     
00234 \textcolor{preprocessor}{    #define TM\_DISCO\_LED\_PORT           GPIOG}
00235 \textcolor{preprocessor}{    #define TM\_DISCO\_LED\_PINS           LED\_GREEN | LED\_RED | LED\_ORANGE | LED\_BLUE}
00236 
00237 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PORT        GPIOA}
00238 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PIN         GPIO\_PIN\_0}
00239 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PRESSED     1}
00240 \textcolor{preprocessor}{    #define TM\_DISCO\_BUTTON\_PULL        TM\_GPIO\_PuPd\_DOWN}
00241 \textcolor{preprocessor}{#else}
00242 \textcolor{preprocessor}{    #error "tm\_stm32f4\_disco.h: Please select your board. Open tm\_stm32f4\_disco.h and follow
       instructions!!"}
00243 \textcolor{preprocessor}{#endif}
00244 
00256 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} \hyperlink{group___t_m___d_i_s_c_o___functions_ga14630e30f567396ddc945c577d762ee1}{TM\_DISCO\_LedInit}(\textcolor{keywordtype}{void});
00257 
00263 \textcolor{keywordtype}{void} \hyperlink{group___t_m___d_i_s_c_o___functions_gabe5d286b45c36b96b3eb4df0e5b9cfde}{TM\_DISCO\_ButtonInit}(\textcolor{keywordtype}{void});
00264 
00276 \textcolor{preprocessor}{#ifndef TM\_DISCO\_SWAP\_LOGIC}
\hypertarget{tm__stm32f4__disco_8h_source_l00277}{}\hyperlink{group___t_m___d_i_s_c_o___functions_ga72aa66c1c0647cf3bbb3c2c069f1901a}{00277} \textcolor{preprocessor}{    #define TM\_DISCO\_LedOn(led)         TM\_GPIO\_SetPinHigh(TM\_DISCO\_LED\_PORT, (led))}
00278 \textcolor{preprocessor}{#else}
00279 \textcolor{preprocessor}{    #define TM\_DISCO\_LedOn(led)         TM\_GPIO\_SetPinLow(TM\_DISCO\_LED\_PORT, (led))}
00280 \textcolor{preprocessor}{#endif}
00281 
00293 \textcolor{preprocessor}{#ifndef TM\_DISCO\_SWAP\_LOGIC}
\hypertarget{tm__stm32f4__disco_8h_source_l00294}{}\hyperlink{group___t_m___d_i_s_c_o___functions_gab295e2ecb3dc81210a9af3f5281cae79}{00294} \textcolor{preprocessor}{    #define TM\_DISCO\_LedOff(led)            TM\_GPIO\_SetPinLow(TM\_DISCO\_LED\_PORT, (led))}
00295 \textcolor{preprocessor}{#else}
00296 \textcolor{preprocessor}{    #define TM\_DISCO\_LedOff(led)            TM\_GPIO\_SetPinHigh(TM\_DISCO\_LED\_PORT, (led))}
00297 \textcolor{preprocessor}{#endif}
00298 
\hypertarget{tm__stm32f4__disco_8h_source_l00309}{}\hyperlink{group___t_m___d_i_s_c_o___functions_gaacaee2ef25adf5ff2cc2be660b561d94}{00309} \textcolor{preprocessor}{#define TM\_DISCO\_LedToggle(led)     TM\_GPIO\_TogglePinValue(TM\_DISCO\_LED\_PORT, (led))}
00310 
00317 \textcolor{preprocessor}{#ifndef TM\_DISCO\_SWAP\_LOGIC}
\hypertarget{tm__stm32f4__disco_8h_source_l00318}{}\hyperlink{group___t_m___d_i_s_c_o___functions_ga88ebf703816bec3e79e60fef9c469950}{00318} \textcolor{preprocessor}{#define TM\_DISCO\_LedIsOn(led)       TM\_GPIO\_GetOutputPinValue(TM\_DISCO\_LED\_PORT, (led))}
00319 \textcolor{preprocessor}{#else}
00320 \textcolor{preprocessor}{#define TM\_DISCO\_LedIsOn(led)       !TM\_GPIO\_GetOutputPinValue(TM\_DISCO\_LED\_PORT, (led))}
00321 \textcolor{preprocessor}{#endif}
00322 
\hypertarget{tm__stm32f4__disco_8h_source_l00351}{}\hyperlink{group___t_m___d_i_s_c_o___functions_ga45b9e10ff16b153c3d26db3a23481623}{00351} \textcolor{preprocessor}{#define TM\_DISCO\_SetLed(led, state) ((state) ? TM\_DISCO\_LedOn(led): TM\_DISCO\_LedOff(led))}
00352 
\hypertarget{tm__stm32f4__disco_8h_source_l00360}{}\hyperlink{group___t_m___d_i_s_c_o___functions_ga02c997906998f75a6cd676810022f9b3}{00360} \textcolor{preprocessor}{#define TM\_DISCO\_ButtonPressed()    ((TM\_GPIO\_GetInputPinValue(TM\_DISCO\_BUTTON\_PORT, TM\_DISCO\_BUTTON\_PIN)
       == 0) != TM\_DISCO\_BUTTON\_PRESSED)}
00361 
00369 uint8\_t \hyperlink{group___t_m___d_i_s_c_o___functions_ga24330bb47f3ed88ae841054a8023cd2a}{TM\_DISCO\_ButtonOnPressed}(\textcolor{keywordtype}{void});
00370 
00378 uint8\_t \hyperlink{group___t_m___d_i_s_c_o___functions_ga3b6eee495f312c38eefaa90c40ccff5a}{TM\_DISCO\_ButtonOnReleased}(\textcolor{keywordtype}{void});
00379 
00392 \textcolor{preprocessor}{#endif}
\end{DoxyCode}
