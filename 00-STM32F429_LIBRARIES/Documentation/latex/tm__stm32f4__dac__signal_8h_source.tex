\hypertarget{tm__stm32f4__dac__signal_8h_source}{}\subsection{tm\+\_\+stm32f4\+\_\+dac\+\_\+signal.\+h}

\begin{DoxyCode}
00001 
00052 \textcolor{preprocessor}{#ifndef TM\_DAC\_SIGNAL\_H}
00053 \textcolor{preprocessor}{#define TM\_DAC\_SIGNAL\_H 110}
00054 
00055 \textcolor{comment}{/* C++ detection */}
00056 \textcolor{preprocessor}{#ifdef \_\_cplusplus}
00057 \textcolor{keyword}{extern} C \{
00058 \textcolor{preprocessor}{#endif}
00059 
00073 \textcolor{preprocessor}{#include "stm32f4xx.h"}
00074 \textcolor{preprocessor}{#include "stm32f4xx\_dac.h"}
00075 \textcolor{preprocessor}{#include "stm32f4xx\_tim.h"}
00076 \textcolor{preprocessor}{#include "stm32f4xx\_dma.h"}
00077 \textcolor{preprocessor}{#include "defines.h"}
00078 \textcolor{preprocessor}{#include "tm\_stm32f4\_timer\_properties.h"}
00079 \textcolor{preprocessor}{#include "tm\_stm32f4\_gpio.h"}
00080 
00081 \textcolor{comment}{/* Signals used */}
00082 \textcolor{preprocessor}{#define DAC\_SIGNAL\_SINUS\_LENGTH         32}
00083 \textcolor{preprocessor}{#define DAC\_SIGNAL\_TRIANGLE\_LENGTH      32}
00084 \textcolor{preprocessor}{#define DAC\_SIGNAL\_SAWTOOTH\_LENGTH      32}
00085 \textcolor{preprocessor}{#define DAC\_SIGNAL\_SQUARE\_LENGTH        2}
00086 
00087 \textcolor{comment}{/* DAC DMA settings */}
00088 \textcolor{preprocessor}{#define DAC\_SIGNAL\_DMA\_DAC1\_STREAM      DMA1\_Stream5}
00089 \textcolor{preprocessor}{#define DAC\_SIGNAL\_DMA\_DAC1\_CHANNEL     DMA\_Channel\_7}
00090 \textcolor{preprocessor}{#define DAC\_SIGNAL\_DMA\_DAC2\_STREAM      DMA1\_Stream6}
00091 \textcolor{preprocessor}{#define DAC\_SIGNAL\_DMA\_DAC2\_CHANNEL     DMA\_Channel\_7}
00092 
00104 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00105     TM\_DAC\_SIGNAL\_Result\_Ok = 0x00,
00106     TM\_DAC\_SIGNAL\_Result\_Error,
00107     TM\_DAC\_SIGNAL\_Result\_TimerNotValid
00108 \} TM\_DAC\_SIGNAL\_Result\_t;
00109 
00123 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00124     TM\_DAC\_SIGNAL\_Signal\_Sinus = 0x00,
00125     TM\_DAC\_SIGNAL\_Signal\_Triangle = 0x01,
00126     TM\_DAC\_SIGNAL\_Signal\_Sawtooth = 0x02,
00127     TM\_DAC\_SIGNAL\_Signal\_Square = 0x03
00128 \} TM\_DAC\_SIGNAL\_Signal\_t;
00129 
00139 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00140     TM\_DAC1 = 0x00,
00141     TM\_DAC2 = 0x01
00142 \} TM\_DAC\_SIGNAL\_Channel\_t;
00143 
00156 \textcolor{keyword}{extern} TM\_DAC\_SIGNAL\_Result\_t TM\_DAC\_SIGNAL\_Init(TM\_DAC\_SIGNAL\_Channel\_t DACx, TIM\_TypeDef* TIMx);
00157 
00171 \textcolor{keyword}{extern} TM\_DAC\_SIGNAL\_Result\_t TM\_DAC\_SIGNAL\_SetSignal(TM\_DAC\_SIGNAL\_Channel\_t DACx, TM\_DAC\_SIGNAL\_Signal\_t 
      signal\_type, \textcolor{keywordtype}{double} frequency);
00172 
00173 \textcolor{comment}{/* C++ detection */}
00174 \textcolor{preprocessor}{#ifdef \_\_cplusplus}
00175 \}
00176 \textcolor{preprocessor}{#endif}
00177 
00178 \textcolor{preprocessor}{#endif}
\end{DoxyCode}
