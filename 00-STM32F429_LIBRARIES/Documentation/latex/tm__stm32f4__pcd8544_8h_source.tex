\hypertarget{tm__stm32f4__pcd8544_8h_source}{}\subsection{tm\+\_\+stm32f4\+\_\+pcd8544.\+h}

\begin{DoxyCode}
00001 
00067 \textcolor{preprocessor}{#ifndef PCD8544\_H}
00068 \textcolor{preprocessor}{#define PCD8544\_H 100}
00069 
00079 \textcolor{preprocessor}{#include "defines.h"}
00080 \textcolor{preprocessor}{#include "stm32f4xx.h"}
00081 \textcolor{preprocessor}{#include "stm32f4xx\_gpio.h"}
00082 \textcolor{preprocessor}{#include "stm32f4xx\_rcc.h"}
00083 \textcolor{preprocessor}{#include "tm\_stm32f4\_spi.h"}
00084 
00085 \textcolor{comment}{//SPI used}
00086 \textcolor{preprocessor}{#ifndef PCD8544\_SPI}
00087 \textcolor{preprocessor}{#define PCD8544\_SPI             SPI2}
00088 \textcolor{preprocessor}{#define PCD8544\_SPI\_PINSPACK    TM\_SPI\_PinsPack\_1}
00089 \textcolor{preprocessor}{#endif}
00090 
00091 \textcolor{comment}{//Default pins used}
00092 \textcolor{comment}{//Default RST pin}
00093 \textcolor{preprocessor}{#ifndef PCD8544\_RST\_PIN}
00094 \textcolor{preprocessor}{#define PCD8544\_RST\_RCC         RCC\_AHB1Periph\_GPIOC}
00095 \textcolor{preprocessor}{#define PCD8544\_RST\_PORT        GPIOC}
00096 \textcolor{preprocessor}{#define PCD8544\_RST\_PIN         GPIO\_Pin\_15}
00097 \textcolor{preprocessor}{#endif}
00098 \textcolor{comment}{//Default DC pin}
00099 \textcolor{preprocessor}{#ifndef PCD8544\_DC\_PIN}
00100 \textcolor{preprocessor}{#define PCD8544\_DC\_RCC          RCC\_AHB1Periph\_GPIOC}
00101 \textcolor{preprocessor}{#define PCD8544\_DC\_PORT         GPIOC}
00102 \textcolor{preprocessor}{#define PCD8544\_DC\_PIN          GPIO\_Pin\_14}
00103 \textcolor{preprocessor}{#endif}
00104 \textcolor{comment}{//Default CE pin}
00105 \textcolor{preprocessor}{#ifndef PCD8544\_CE\_PIN}
00106 \textcolor{preprocessor}{#define PCD8544\_CE\_RCC          RCC\_AHB1Periph\_GPIOC}
00107 \textcolor{preprocessor}{#define PCD8544\_CE\_PORT         GPIOC}
00108 \textcolor{preprocessor}{#define PCD8544\_CE\_PIN          GPIO\_Pin\_13}
00109 \textcolor{preprocessor}{#endif}
00110 
00111 \textcolor{preprocessor}{#define PCD8544\_CE\_LOW          GPIO\_ResetBits(PCD8544\_CE\_PORT, PCD8544\_CE\_PIN)}
00112 \textcolor{preprocessor}{#define PCD8544\_CE\_HIGH         GPIO\_SetBits(PCD8544\_CE\_PORT, PCD8544\_CE\_PIN)}
00113 
00117 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00118     PCD8544\_COMMAND = 0,
00119     PCD8544\_DATA = !PCD8544\_COMMAND
00120 \} PCD8544\_WriteType\_t;
00121 
00122 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00123     PCD8544\_State\_Low = 0,
00124     PCD8544\_State\_High = !PCD8544\_State\_Low
00125 \} PCD8544\_State\_t;
00126 
00127 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00128     PCD8544\_Pin\_DC = 1,
00129     PCD8544\_Pin\_RST = 2
00130 \} PCD8544\_Pin\_t;
00131 
00139 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00140     PCD8544\_Pixel\_Clear = 0,
00141     PCD8544\_Pixel\_Set = !PCD8544\_Pixel\_Clear
00142 \} PCD8544\_Pixel\_t;
00143 
00148 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00149     PCD8544\_FontSize\_5x7 = 0,
00150     PCD8544\_FontSize\_3x5 = !PCD8544\_FontSize\_5x7
00151 \} PCD8544\_FontSize\_t;
00152 
00156 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00157     PCD8544\_Invert\_Yes,
00158     PCD8544\_Invert\_No
00159 \} PCD8544\_Invert\_t;
00160 
00161 
00162 \textcolor{preprocessor}{#define PCD8544\_WIDTH               84}
00163 \textcolor{preprocessor}{#define PCD8544\_HEIGHT              48}
00164 
00165 \textcolor{comment}{// PCD8544 Commandset}
00166 \textcolor{comment}{// ------------------}
00167 \textcolor{comment}{// General commands}
00168 \textcolor{preprocessor}{#define PCD8544\_POWERDOWN           0x04}
00169 \textcolor{preprocessor}{#define PCD8544\_ENTRYMODE           0x02}
00170 \textcolor{preprocessor}{#define PCD8544\_EXTENDEDINSTRUCTION 0x01}
00171 \textcolor{preprocessor}{#define PCD8544\_DISPLAYBLANK        0x00}
00172 \textcolor{preprocessor}{#define PCD8544\_DISPLAYNORMAL       0x04}
00173 \textcolor{preprocessor}{#define PCD8544\_DISPLAYALLON        0x01}
00174 \textcolor{preprocessor}{#define PCD8544\_DISPLAYINVERTED     0x05}
00175 \textcolor{comment}{// Normal instruction set}
00176 \textcolor{preprocessor}{#define PCD8544\_FUNCTIONSET         0x20}
00177 \textcolor{preprocessor}{#define PCD8544\_DISPLAYCONTROL      0x08}
00178 \textcolor{preprocessor}{#define PCD8544\_SETYADDR            0x40}
00179 \textcolor{preprocessor}{#define PCD8544\_SETXADDR            0x80}
00180 \textcolor{comment}{// Extended instruction set}
00181 \textcolor{preprocessor}{#define PCD8544\_SETTEMP             0x04}
00182 \textcolor{preprocessor}{#define PCD8544\_SETBIAS             0x10}
00183 \textcolor{preprocessor}{#define PCD8544\_SETVOP              0x80}
00184 \textcolor{comment}{// Display presets}
00185 \textcolor{preprocessor}{#define PCD8544\_LCD\_BIAS            0x03    // Range: 0-7 (0x00-0x07)}
00186 \textcolor{preprocessor}{#define PCD8544\_LCD\_TEMP            0x02    // Range: 0-3 (0x00-0x03)}
00187 \textcolor{preprocessor}{#define PCD8544\_LCD\_CONTRAST        0x46    // Range: 0-127 (0x00-0x7F)}
00188 
00189 \textcolor{preprocessor}{#define PCD8544\_CHAR5x7\_WIDTH       6 //5*8}
00190 \textcolor{preprocessor}{#define PCD8544\_CHAR5x7\_HEIGHT      8}
00191 \textcolor{preprocessor}{#define PCD8544\_CHAR3x5\_WIDTH       4 //3*5}
00192 \textcolor{preprocessor}{#define PCD8544\_CHAR3x5\_HEIGHT      6}
00193 
00194 \textcolor{preprocessor}{#define PCD8544\_BUFFER\_SIZE         PCD8544\_WIDTH * PCD8544\_HEIGHT / 8}
00195 
00196 
00201 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_InitIO(\textcolor{keywordtype}{void});
00202 
00207 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_send(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} data);
00208 
00213 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_Pin(PCD8544\_Pin\_t pin, PCD8544\_State\_t state);
00214 
00219 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_Delay(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} micros);
00220 
00225 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_Write(PCD8544\_WriteType\_t cd, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} data);
00226 
00231 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_UpdateArea(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} xMin, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} yMin, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} xMax, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} 
      yMax);
00232 
00239 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_Init(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} contrast);
00240 
00247 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_SetContrast(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} contrast);
00248 
00257 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_Invert(PCD8544\_Invert\_t invert);
00258 
00262 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_Clear(\textcolor{keywordtype}{void});
00263 
00274 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_DrawPixel(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} x, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} y, PCD8544\_Pixel\_t pixel);
00275 
00280 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_Home(\textcolor{keywordtype}{void});
00281 
00286 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_Refresh(\textcolor{keywordtype}{void});
00287 
00295 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_GotoXY(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} x, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} y);
00296 
00309 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_Putc(\textcolor{keywordtype}{char} c, PCD8544\_Pixel\_t color, PCD8544\_FontSize\_t size);
00310 
00323 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_Puts(\textcolor{keywordtype}{char} *c, PCD8544\_Pixel\_t color, PCD8544\_FontSize\_t size);
00324 
00337 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_DrawLine(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} x0, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} y0, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} x1, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} y1, 
      PCD8544\_Pixel\_t color);
00338 
00351 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_DrawRectangle(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} x0, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} y0, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} x1, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} y1, 
      PCD8544\_Pixel\_t color);
00352 
00365 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_DrawFilledRectangle(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} x0, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} y0, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} x1, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}
       y1, PCD8544\_Pixel\_t color);
00366 
00378 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_DrawCircle(\textcolor{keywordtype}{char} x0, \textcolor{keywordtype}{char} y0, \textcolor{keywordtype}{char} r, PCD8544\_Pixel\_t color);
00379 
00391 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} PCD8544\_DrawFilledCircle(\textcolor{keywordtype}{char} x0, \textcolor{keywordtype}{char} y0, \textcolor{keywordtype}{char} r, PCD8544\_Pixel\_t color);
00392 
00393 \textcolor{preprocessor}{#endif}
\end{DoxyCode}
