\hypertarget{tm__stm32f4__ili9341_8h_source}{}\subsection{tm\+\_\+stm32f4\+\_\+ili9341.\+h}

\begin{DoxyCode}
00001 
00076 \textcolor{preprocessor}{#ifndef TM\_ILI9341\_H}
00077 \textcolor{preprocessor}{#define TM\_ILI9341\_H 120}
00078 
00093 \textcolor{preprocessor}{#include "stm32f4xx.h"}
00094 \textcolor{preprocessor}{#include "stm32f4xx\_rcc.h"}
00095 \textcolor{preprocessor}{#include "stm32f4xx\_gpio.h"}
00096 \textcolor{preprocessor}{#include "defines.h"}
00097 \textcolor{preprocessor}{#include "tm\_stm32f4\_spi.h"}
00098 \textcolor{preprocessor}{#include "tm\_stm32f4\_fonts.h"}
00099 \textcolor{preprocessor}{#include "tm\_stm32f4\_gpio.h"}
00100 
00101 \textcolor{comment}{//SPI used}
00102 \textcolor{comment}{//This SPI pins are used on STM32F429 Discovery board}
00103 \textcolor{preprocessor}{#ifndef ILI9341\_SPI}
00104 \textcolor{preprocessor}{#define ILI9341\_SPI                 SPI5}
00105 \textcolor{preprocessor}{#define ILI9341\_SPI\_PINS            TM\_SPI\_PinsPack\_1}
00106 \textcolor{preprocessor}{#endif}
00107 
00108 \textcolor{comment}{/* This pin is used on STM32F429 discovery board */}
00109 \textcolor{preprocessor}{#ifndef ILI9341\_CS\_PIN}
00110 \textcolor{preprocessor}{#define ILI9341\_CS\_PORT             GPIOC}
00111 \textcolor{preprocessor}{#define ILI9341\_CS\_PIN              GPIO\_PIN\_2}
00112 \textcolor{preprocessor}{#endif}
00113 
00114 \textcolor{comment}{/* This pin is used on STM32F429 discovery board */}
00115 \textcolor{preprocessor}{#ifndef ILI9341\_WRX\_PIN}
00116 \textcolor{preprocessor}{#define ILI9341\_WRX\_PORT            GPIOD}
00117 \textcolor{preprocessor}{#define ILI9341\_WRX\_PIN             GPIO\_PIN\_13}
00118 \textcolor{preprocessor}{#endif}
00119 
00120 \textcolor{comment}{/* Reset pin */}
00121 \textcolor{preprocessor}{#ifndef ILI9341\_RST\_PIN}
00122 \textcolor{preprocessor}{#define ILI9341\_RST\_PORT            GPIOD}
00123 \textcolor{preprocessor}{#define ILI9341\_RST\_PIN             GPIO\_PIN\_12}
00124 \textcolor{preprocessor}{#endif}
00125 
00126 \textcolor{comment}{/* Pin definitions */}
00127 \textcolor{preprocessor}{#define ILI9341\_RST\_SET             GPIO\_SetBits(ILI9341\_RST\_PORT, ILI9341\_RST\_PIN)}
00128 \textcolor{preprocessor}{#define ILI9341\_RST\_RESET           GPIO\_ResetBits(ILI9341\_RST\_PORT, ILI9341\_RST\_PIN)}
00129 \textcolor{preprocessor}{#define ILI9341\_CS\_SET              GPIO\_SetBits(ILI9341\_CS\_PORT, ILI9341\_CS\_PIN)}
00130 \textcolor{preprocessor}{#define ILI9341\_CS\_RESET            GPIO\_ResetBits(ILI9341\_CS\_PORT, ILI9341\_CS\_PIN)}
00131 \textcolor{preprocessor}{#define ILI9341\_WRX\_SET             GPIO\_SetBits(ILI9341\_WRX\_PORT, ILI9341\_WRX\_PIN)}
00132 \textcolor{preprocessor}{#define ILI9341\_WRX\_RESET           GPIO\_ResetBits(ILI9341\_WRX\_PORT, ILI9341\_WRX\_PIN)}
00133 
00134 \textcolor{comment}{/* LCD settings */}
00135 \textcolor{preprocessor}{#define ILI9341\_WIDTH               240}
00136 \textcolor{preprocessor}{#define ILI9341\_HEIGHT              320}
00137 \textcolor{preprocessor}{#define ILI9341\_PIXEL               76800}
00138 
00139 \textcolor{comment}{/* Colors */}
00140 \textcolor{preprocessor}{#define ILI9341\_COLOR\_WHITE         0xFFFF}
00141 \textcolor{preprocessor}{#define ILI9341\_COLOR\_BLACK         0x0000}
00142 \textcolor{preprocessor}{#define ILI9341\_COLOR\_RED           0xF800}
00143 \textcolor{preprocessor}{#define ILI9341\_COLOR\_GREEN         0x07E0}
00144 \textcolor{preprocessor}{#define ILI9341\_COLOR\_GREEN2        0xB723}
00145 \textcolor{preprocessor}{#define ILI9341\_COLOR\_BLUE          0x001F}
00146 \textcolor{preprocessor}{#define ILI9341\_COLOR\_BLUE2         0x051D}
00147 \textcolor{preprocessor}{#define ILI9341\_COLOR\_YELLOW        0xFFE0}
00148 \textcolor{preprocessor}{#define ILI9341\_COLOR\_ORANGE        0xFBE4}
00149 \textcolor{preprocessor}{#define ILI9341\_COLOR\_CYAN          0x07FF}
00150 \textcolor{preprocessor}{#define ILI9341\_COLOR\_MAGENTA       0xA254}
00151 \textcolor{preprocessor}{#define ILI9341\_COLOR\_GRAY          0x7BEF //1111 0111 1101 1110}
00152 \textcolor{preprocessor}{#define ILI9341\_COLOR\_BROWN         0xBBCA}
00153 
00154 \textcolor{comment}{/* Transparent background, only for strings and chars */}
00155 \textcolor{preprocessor}{#define ILI9341\_TRANSPARENT         0x80000000}
00156 
00157 \textcolor{comment}{/* Commands */}
00158 \textcolor{preprocessor}{#define ILI9341\_RESET               0x01}
00159 \textcolor{preprocessor}{#define ILI9341\_SLEEP\_OUT           0x11}
00160 \textcolor{preprocessor}{#define ILI9341\_GAMMA               0x26}
00161 \textcolor{preprocessor}{#define ILI9341\_DISPLAY\_OFF         0x28}
00162 \textcolor{preprocessor}{#define ILI9341\_DISPLAY\_ON          0x29}
00163 \textcolor{preprocessor}{#define ILI9341\_COLUMN\_ADDR         0x2A}
00164 \textcolor{preprocessor}{#define ILI9341\_PAGE\_ADDR           0x2B}
00165 \textcolor{preprocessor}{#define ILI9341\_GRAM                0x2C}
00166 \textcolor{preprocessor}{#define ILI9341\_MAC                 0x36}
00167 \textcolor{preprocessor}{#define ILI9341\_PIXEL\_FORMAT        0x3A}
00168 \textcolor{preprocessor}{#define ILI9341\_WDB                 0x51}
00169 \textcolor{preprocessor}{#define ILI9341\_WCD                 0x53}
00170 \textcolor{preprocessor}{#define ILI9341\_RGB\_INTERFACE       0xB0}
00171 \textcolor{preprocessor}{#define ILI9341\_FRC                 0xB1}
00172 \textcolor{preprocessor}{#define ILI9341\_BPC                 0xB5}
00173 \textcolor{preprocessor}{#define ILI9341\_DFC                 0xB6}
00174 \textcolor{preprocessor}{#define ILI9341\_POWER1              0xC0}
00175 \textcolor{preprocessor}{#define ILI9341\_POWER2              0xC1}
00176 \textcolor{preprocessor}{#define ILI9341\_VCOM1               0xC5}
00177 \textcolor{preprocessor}{#define ILI9341\_VCOM2               0xC7}
00178 \textcolor{preprocessor}{#define ILI9341\_POWERA              0xCB}
00179 \textcolor{preprocessor}{#define ILI9341\_POWERB              0xCF}
00180 \textcolor{preprocessor}{#define ILI9341\_PGAMMA              0xE0}
00181 \textcolor{preprocessor}{#define ILI9341\_NGAMMA              0xE1}
00182 \textcolor{preprocessor}{#define ILI9341\_DTCA                0xE8}
00183 \textcolor{preprocessor}{#define ILI9341\_DTCB                0xEA}
00184 \textcolor{preprocessor}{#define ILI9341\_POWER\_SEQ           0xED}
00185 \textcolor{preprocessor}{#define ILI9341\_3GAMMA\_EN           0xF2}
00186 \textcolor{preprocessor}{#define ILI9341\_INTERFACE           0xF6}
00187 \textcolor{preprocessor}{#define ILI9341\_PRC                 0xF7}
00188 
00194 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00195     TM\_ILI9341\_Orientation\_Portrait\_1,
00196     TM\_ILI9341\_Orientation\_Portrait\_2,
00197     TM\_ILI9341\_Orientation\_Landscape\_1,
00198     TM\_ILI9341\_Orientation\_Landscape\_2
00199 \} TM\_ILI9341\_Orientation\_t;
00200 
00205 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00206     TM\_ILI9341\_Landscape,
00207     TM\_ILI9341\_Portrait
00208 \} TM\_ILI9341\_Orientation;
00209 
\hypertarget{tm__stm32f4__ili9341_8h_source_l00214}{}\hyperlink{struct_t_m___i_l_i931___options__t}{00214} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{
00215     uint16\_t width;
00216     uint16\_t height;
00217     TM\_ILI9341\_Orientation orientation; \textcolor{comment}{// 1 = portrait; 0 = landscape}
00218 \} \hyperlink{struct_t_m___i_l_i931___options__t}{TM\_ILI931\_Options\_t};
00219 
00220 
00224 \textcolor{keyword}{extern} \hyperlink{struct_t_m___font_def__t}{TM\_FontDef\_t} TM\_Font\_7x10;
00225 \textcolor{keyword}{extern} \hyperlink{struct_t_m___font_def__t}{TM\_FontDef\_t} TM\_Font\_11x18;
00226 \textcolor{keyword}{extern} \hyperlink{struct_t_m___font_def__t}{TM\_FontDef\_t} TM\_Font\_16x26;
00227 
00232 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_ILI9341\_Init(\textcolor{keywordtype}{void});
00233 
00242 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_ILI9341\_DrawPixel(uint16\_t x, uint16\_t y, uint32\_t color);
00243 
00250 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_ILI9341\_Fill(uint32\_t color);
00251 
00263 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_ILI9341\_Rotate(TM\_ILI9341\_Orientation\_t orientation);
00264 
00276 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_ILI9341\_Putc(uint16\_t x, uint16\_t y, \textcolor{keywordtype}{char} c, \hyperlink{struct_t_m___font_def__t}{TM\_FontDef\_t} *font, uint32\_t 
      foreground, uint32\_t background);
00277 
00289 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_ILI9341\_Puts(uint16\_t x, uint16\_t y, \textcolor{keywordtype}{char} *str, \hyperlink{struct_t_m___font_def__t}{TM\_FontDef\_t} *font, uint32\_t 
      foreground, uint32\_t background);
00290 
00300 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_ILI9341\_GetStringSize(\textcolor{keywordtype}{char} *str, \hyperlink{struct_t_m___font_def__t}{TM\_FontDef\_t} *font, uint16\_t *width, uint16\_t *
      height);
00301 
00312 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_ILI9341\_DrawLine(uint16\_t x0, uint16\_t y0, uint16\_t x1, uint16\_t y1, uint32\_t color);
00313 
00324 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_ILI9341\_DrawRectangle(uint16\_t x0, uint16\_t y0, uint16\_t x1, uint16\_t y1, uint32\_t color);
00325 
00336 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_ILI9341\_DrawFilledRectangle(uint16\_t x0, uint16\_t y0, uint16\_t x1, uint16\_t y1, uint32\_t 
      color);
00337 
00347 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_ILI9341\_DrawCircle(int16\_t x0, int16\_t y0, int16\_t r, uint32\_t color);
00348 
00358 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_ILI9341\_DrawFilledCircle(int16\_t x0, int16\_t y0, int16\_t r, uint32\_t color);
00359 
00365 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_ILI9341\_DisplayOn(\textcolor{keywordtype}{void});
00366 
00371 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_ILI9341\_DisplayOff(\textcolor{keywordtype}{void});
00372 
00373 \textcolor{preprocessor}{#endif}
00374 
\end{DoxyCode}
