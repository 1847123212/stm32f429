\hypertarget{tm__stm32f4__hd44780_8h_source}{}\subsection{tm\+\_\+stm32f4\+\_\+hd44780.\+h}

\begin{DoxyCode}
00001 
00080 \textcolor{preprocessor}{#ifndef TM\_HD44780\_H}
00081 \textcolor{preprocessor}{#define TM\_HD44780\_H 120}
00082 
00093 \textcolor{preprocessor}{#include "stm32f4xx.h"}
00094 \textcolor{preprocessor}{#include "stm32f4xx\_rcc.h"}
00095 \textcolor{preprocessor}{#include "stm32f4xx\_gpio.h"}
00096 \textcolor{preprocessor}{#include "defines.h"}
00097 \textcolor{preprocessor}{#include "tm\_stm32f4\_delay.h"}
00098 \textcolor{preprocessor}{#include "tm\_stm32f4\_gpio.h"}
00099 
00100 \textcolor{comment}{/* 4 bit mode */}
00101 \textcolor{comment}{/* Control pins, can be overwritten */}
00102 \textcolor{comment}{/* RS - Register select pin */}
00103 \textcolor{preprocessor}{#ifndef TM\_HD44780\_RS\_PIN}
00104 \textcolor{preprocessor}{#define TM\_HD44780\_RS\_PORT              GPIOB}
00105 \textcolor{preprocessor}{#define TM\_HD44780\_RS\_PIN               GPIO\_PIN\_2}
00106 \textcolor{preprocessor}{#endif}
00107 \textcolor{comment}{/* E - Enable pin */}
00108 \textcolor{preprocessor}{#ifndef TM\_HD44780\_E\_PIN}
00109 \textcolor{preprocessor}{#define TM\_HD44780\_E\_PORT               GPIOB}
00110 \textcolor{preprocessor}{#define TM\_HD44780\_E\_PIN                GPIO\_PIN\_7}
00111 \textcolor{preprocessor}{#endif}
00112 \textcolor{comment}{/* Data pins */}
00113 \textcolor{comment}{/* D4 - Data 4 pin */}
00114 \textcolor{preprocessor}{#ifndef TM\_HD44780\_D4\_PIN}
00115 \textcolor{preprocessor}{#define TM\_HD44780\_D4\_PORT              GPIOC}
00116 \textcolor{preprocessor}{#define TM\_HD44780\_D4\_PIN               GPIO\_PIN\_12}
00117 \textcolor{preprocessor}{#endif}
00118 \textcolor{comment}{/* D5 - Data 5 pin */}
00119 \textcolor{preprocessor}{#ifndef TM\_HD44780\_D5\_PIN}
00120 \textcolor{preprocessor}{#define TM\_HD44780\_D5\_PORT              GPIOC}
00121 \textcolor{preprocessor}{#define TM\_HD44780\_D5\_PIN               GPIO\_PIN\_13}
00122 \textcolor{preprocessor}{#endif}
00123 \textcolor{comment}{/* D6 - Data 6 pin */}
00124 \textcolor{preprocessor}{#ifndef TM\_HD44780\_D6\_PIN}
00125 \textcolor{preprocessor}{#define TM\_HD44780\_D6\_PORT              GPIOB}
00126 \textcolor{preprocessor}{#define TM\_HD44780\_D6\_PIN               GPIO\_PIN\_12}
00127 \textcolor{preprocessor}{#endif}
00128 \textcolor{comment}{/* D7 - Data 7 pin */}
00129 \textcolor{preprocessor}{#ifndef TM\_HD44780\_D7\_PIN}
00130 \textcolor{preprocessor}{#define TM\_HD44780\_D7\_PORT              GPIOB}
00131 \textcolor{preprocessor}{#define TM\_HD44780\_D7\_PIN               GPIO\_PIN\_13}
00132 \textcolor{preprocessor}{#endif}
00133 
00134 \textcolor{preprocessor}{#define TM\_HD44780\_RS\_LOW               TM\_GPIO\_SetPinLow(TM\_HD44780\_RS\_PORT, TM\_HD44780\_RS\_PIN)}
00135 \textcolor{preprocessor}{#define TM\_HD44780\_RS\_HIGH              TM\_GPIO\_SetPinHigh(TM\_HD44780\_RS\_PORT, TM\_HD44780\_RS\_PIN)}
00136 \textcolor{preprocessor}{#define TM\_HD44780\_E\_LOW                TM\_GPIO\_SetPinLow(TM\_HD44780\_E\_PORT, TM\_HD44780\_E\_PIN)}
00137 \textcolor{preprocessor}{#define TM\_HD44780\_E\_HIGH               TM\_GPIO\_SetPinHigh(TM\_HD44780\_E\_PORT, TM\_HD44780\_E\_PIN)}
00138 
00139 \textcolor{preprocessor}{#define TM\_HD44780\_E\_BLINK              TM\_HD44780\_E\_HIGH; TM\_HD44780\_Delay(20); TM\_HD44780\_E\_LOW;
       TM\_HD44780\_Delay(20)}
00140 \textcolor{preprocessor}{#define TM\_HD44780\_Delay(x)             Delay(x)}
00141 
00142 \textcolor{comment}{/* Commands*/}
00143 \textcolor{preprocessor}{#define TM\_HD44780\_CLEARDISPLAY         0x01}
00144 \textcolor{preprocessor}{#define TM\_HD44780\_RETURNHOME           0x02}
00145 \textcolor{preprocessor}{#define TM\_HD44780\_ENTRYMODESET         0x04}
00146 \textcolor{preprocessor}{#define TM\_HD44780\_DISPLAYCONTROL       0x08}
00147 \textcolor{preprocessor}{#define TM\_HD44780\_CURSORSHIFT          0x10}
00148 \textcolor{preprocessor}{#define TM\_HD44780\_FUNCTIONSET          0x20}
00149 \textcolor{preprocessor}{#define TM\_HD44780\_SETCGRAMADDR         0x40}
00150 \textcolor{preprocessor}{#define TM\_HD44780\_SETDDRAMADDR         0x80}
00151 
00152 \textcolor{comment}{/* Flags for display entry mode */}
00153 \textcolor{preprocessor}{#define TM\_HD44780\_ENTRYRIGHT           0x00}
00154 \textcolor{preprocessor}{#define TM\_HD44780\_ENTRYLEFT            0x02}
00155 \textcolor{preprocessor}{#define TM\_HD44780\_ENTRYSHIFTINCREMENT  0x01}
00156 \textcolor{preprocessor}{#define TM\_HD44780\_ENTRYSHIFTDECREMENT  0x00}
00157 
00158 \textcolor{comment}{/* Flags for display on/off control */}
00159 \textcolor{preprocessor}{#define TM\_HD44780\_DISPLAYON            0x04}
00160 \textcolor{preprocessor}{#define TM\_HD44780\_CURSORON             0x02}
00161 \textcolor{preprocessor}{#define TM\_HD44780\_BLINKON              0x01}
00162 
00163 \textcolor{comment}{/* Flags for display/cursor shift */}
00164 \textcolor{preprocessor}{#define TM\_HD44780\_DISPLAYMOVE          0x08}
00165 \textcolor{preprocessor}{#define TM\_HD44780\_CURSORMOVE           0x00}
00166 \textcolor{preprocessor}{#define TM\_HD44780\_MOVERIGHT            0x04}
00167 \textcolor{preprocessor}{#define TM\_HD44780\_MOVELEFT             0x00}
00168 
00169 \textcolor{comment}{/* Flags for function set */}
00170 \textcolor{preprocessor}{#define TM\_HD44780\_8BITMODE             0x10}
00171 \textcolor{preprocessor}{#define TM\_HD44780\_4BITMODE             0x00}
00172 \textcolor{preprocessor}{#define TM\_HD44780\_2LINE                0x08}
00173 \textcolor{preprocessor}{#define TM\_HD44780\_1LINE                0x00}
00174 \textcolor{preprocessor}{#define TM\_HD44780\_5x10DOTS             0x04}
00175 \textcolor{preprocessor}{#define TM\_HD44780\_5x8DOTS              0x00}
00176 
00186 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_HD44780\_Init(uint8\_t cols, uint8\_t rows);
00187 
00193 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_HD44780\_DisplayOn(\textcolor{keywordtype}{void});
00194 
00200 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_HD44780\_DisplayOff(\textcolor{keywordtype}{void});
00201 
00207 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_HD44780\_Clear(\textcolor{keywordtype}{void});
00208 
00219 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_HD44780\_Puts(uint8\_t x, uint8\_t y, \textcolor{keywordtype}{char}* str);
00220 
00226 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_HD44780\_BlinkOn(\textcolor{keywordtype}{void});
00227 
00233 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_HD44780\_BlinkOff(\textcolor{keywordtype}{void});
00234 
00240 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_HD44780\_CursorOn(\textcolor{keywordtype}{void});
00241 
00247 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_HD44780\_CursorOff(\textcolor{keywordtype}{void});
00248 
00254 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_HD44780\_ScrollLeft(\textcolor{keywordtype}{void});
00255 
00261 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_HD44780\_ScrollRight(\textcolor{keywordtype}{void});
00262 
00274 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_HD44780\_CreateChar(uint8\_t location, uint8\_t* data);
00275 
00285 \textcolor{keyword}{extern} \textcolor{keywordtype}{void} TM\_HD44780\_PutCustom(uint8\_t x, uint8\_t y, uint8\_t location);
00286 
00287 \textcolor{preprocessor}{#endif}
00288 
\end{DoxyCode}
